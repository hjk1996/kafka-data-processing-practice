FROM python:3.12.3-bullseye
RUN pip install aiokafka aioboto3
WORKDIR /workidir
ADD main.py /workidir/
ARG BUCKET_NAME
ENV BUCKET_NAME=${BUCKET_NAME}
ARG TOPIC_NAME
ENV TOPIC_NAME=${TOPIC_NAME}
ARG GROUP_ID
ENV GROUP_ID=${GROUP_ID}
ARG BOOTSTRAP_SERVER
ENV BOOTSTRAP_SERVER=${BOOTSTRAP_SERVER}
CMD [ "python", "main.py" ]